{% extends 'base.html' %}

{% block content %}
  {% if keyword %}
  <div class="alert alert-success" role="alert">
    <h3>Searching for: {{ keyword }}</h3>
  </div>
  
  {% endif %}
  {% if line_list %}
    <table class="table table-hover">
      <th scope="col">SGID</th>
      <th scope="col">Gene symbol</th>
      <th scope="col">Effector</th>
      <th scope="col">Status</th>
      <th scope="col">Uploader</th>
      <th scope="col">Contributor</th>
      {% if user.is_superuser or user.is_staff %}
        <th scope="col">Private</th>
      {% endif %}
      {% for line in line_list %}
        <tr>
          <td><a href="{% url 'details' line.id %}">
            SG{{ line.id }}
          </a></td>
          <td>{{ line.gene_name }}</td>
          <td>
            {{ line.effector_type }}
          </td>
          <td>
            <a href="mailto:{{ line.contact }}">
              {% if line.uploader %}
                {{ line.uploader }}
              {% else %}
                {{ line.contact }}
              {% endif %}
            </a>
          </td>
          {% if user.is_superuser or user.is_staff %}
          <td>
            {% if line.private is True %}
              Yes
            {% else %}
              No
            {% endif %}
          </td>
        {% endif %
          <td>{{ line.get_status_display }}</td>
}
          <td> {{ line.contributor }}</td>
        </tr>
      {% endfor %}
    </table>
  {% else %}
      <p>No lines are available.</p>
  {% endif %}
{% endblock %}